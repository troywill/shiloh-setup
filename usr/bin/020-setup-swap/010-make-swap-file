#!/bin/bash
set -o errexit
DISK_LABEL="ata1"
SWAP1_SIZE_IN_MB=128

mkdir -v --parent /mnt/${DISK_LABEL}
# mount -v /dev/disk/by-label/${LABEL} /mnt/${LABEL}
dd if=/dev/zero of=/mnt/${DISK_LABEL}/swap1.${DISK_LABEL} bs=1M count=${SWAP1_SIZE_IN_MB}
mkswap -L swap1.${DISK_LABEL} /mnt/${DISK_LABEL}/swap1.${DISK_LABEL}
swapon /mnt/${DISK_LABEL}/swap1.${DISK_LABEL}

exit
exit
exit

Sample /etc/fstab entry for swapfiles:

#### Swapfiles
LABEL=ata1		/mnt/ata1	ext4	defaults		0	1
/mnt/sda1/swap.sda1	none		swap	sw,pri=2		0	0
/swapfile1		none		swap	sw,pri=2		0	0
