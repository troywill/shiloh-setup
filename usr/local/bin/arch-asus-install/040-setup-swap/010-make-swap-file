#!/bin/bash
set -o errexit
dd if=/dev/zero bs=1M count=128 of=/swapfile
mkswap -L swapfile /swapfile
swapon --verbose /swapfile

exit
DISK_LABEL="ata1"
SWAP1_SIZE_IN_MB=128

mkdir -v --parent /mnt/${DISK_LABEL}
# mount -v /dev/disk/by-label/${LABEL} /mnt/${LABEL}
dd if=/dev/zero of=/mnt/${DISK_LABEL}/swap1.${DISK_LABEL} bs=1M count=${SWAP1_SIZE_IN_MB}
mkswap -L swap1.${DISK_LABEL} /mnt/${DISK_LABEL}/swap1.${DISK_LABEL}
swapon /mnt/${DISK_LABEL}/swap1.${DISK_LABEL}

exit

Sample /etc/fstab entry for swapfiles:

#### Swapfiles
LABEL=ata1		/mnt/ata1	ext4	defaults		0	1
/mnt/ata1/swap1.ata1	none		swap	sw,pri=2		0	0
/swapfile1		none		swap	sw,pri=2		0	0
